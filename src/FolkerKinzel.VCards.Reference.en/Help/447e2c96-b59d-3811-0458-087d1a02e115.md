# ITimeZoneIDConverter Interface


Defines a method that converts a <a href="https://learn.microsoft.com/dotnet/api/system.string" target="_blank" rel="noopener noreferrer">String</a>, which represents a named time zone (IANA time zone ID), into a corresponding UTC offset.



## Definition
**Namespace:** <a href="67dce261-ab8f-dd0a-4c0c-bc2633c1719e.md">FolkerKinzel.VCards</a>  
**Assembly:** FolkerKinzel.VCards (in FolkerKinzel.VCards.dll) Version: 7.2.0-beta.1+92a9170dd6e89cb66392c26e0acddb6434e3fbc1

**C#**
``` C#
public interface ITimeZoneIDConverter
```
**VB**
``` VB
Public Interface ITimeZoneIDConverter
```
**C++**
``` C++
public interface class ITimeZoneIDConverter
```
**F#**
``` F#
type ITimeZoneIDConverter = interface end
```



## Remarks

The vCard 4.0 standard recommends specifying time zones as IANA time zone names. - Older standards (vCard 2.1, vCard 3.0), however, prefer UTC offsets.

It is possible to convert IANA time zone names to UTC offsets, but it's not possible to convert UTC offsets to IANA time zone names because there is no unique assignment. Therefore it's recommended to initialize <a href="9c826379-198e-f92a-4316-339fc00e08b2.md">TimeZoneID</a> objects with IANA time zone names and then to convert these to UTC offsets using an implementation of ITimeZoneIDConverter when serializing a vCard 2.1 or a vCard 3.0.

Since .NET cannot do the conversion itself, this interface enables a 3rd-party library to be integrated. (Since .NET 6.0 exists a .NET solution with the ICU library but this needs a separate dependency or additional configuration.)


## Example



<table>
	<tr>
		<th>
			<img src="media/AlertNote.png" alt="Note">
				
			</img>  Note
		</th>
	</tr>
	<tr>
		
		<td>
		To make it easier to read, exception handling has been omitted in the following example.</td>
	</tr>
</table>




Example implementation for ITimeZoneIDConverter:


**C#**  
``` C#
using FolkerKinzel.VCards;

namespace Examples;

/// <summary>
/// Example implementation of <see cref="ITimeZoneIDConverter"/> to convert IANA time zone 
/// names into UTC offsets in order to be compatible to older vCard clients when writing 
/// vCard 2.1 or vCard 3.0.
/// This example uses the nuget package TimeZoneConverter 
/// ( https://www.nuget.org/packages/TimeZoneConverter/ ).
/// </summary>
public class TimeZoneIDConverter : ITimeZoneIDConverter
{
    // Converts, e.g., "Europe/Berlin" to +01:00
    public bool TryConvertToUtcOffset(string timeZoneID, out TimeSpan utcOffset)
    {
        // Convert at least IANA time zone names:
        if (TimeZoneConverter.TZConvert.TryGetTimeZoneInfo(timeZoneID, out TimeZoneInfo? tzInfo))
        {
            utcOffset = tzInfo.BaseUtcOffset;
            return true;
        }

        utcOffset = default;
        return false;
    }
}
```


## Methods
<table>
<tr>
<td><a href="ebee31cf-4826-7914-b73d-e6ac8ff907d6.md">TryConvertToUtcOffset</a></td>
<td>Tries to convert a <a href="https://learn.microsoft.com/dotnet/api/system.string" target="_blank" rel="noopener noreferrer">String</a>, which represents a time zone name (IANA time zone ID), into a UTC offset belonging to this time zone.</td></tr>
</table>

## See Also


#### Reference
<a href="67dce261-ab8f-dd0a-4c0c-bc2633c1719e.md">FolkerKinzel.VCards Namespace</a>  
